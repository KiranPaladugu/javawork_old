<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project [
   <!ENTITY common SYSTEM "../common.xml">
]>


<project name="I38" default="build" basedir=".">

	<condition property="dir.project" value="${basedir}/..">
		<not>
			<isset property="dir.project"/>
		</not>
	</condition>
	&common;
	<property name="dir.dist" value="${dir.project.dist}"/>

	<!-- if not set I set the corresponding I38 versions -->

	<condition property="I38-15.1.1.F" value="15.1.1.F">
								<not>
									<isset property="I38-15.1.1.F" />
								</not>
					</condition>	
	
	<condition property="I38-14.2.1.G" value="14.2.1.G">
							<not>
								<isset property="I38-14.2.1.G" />
							</not>
				</condition>

	<condition property="I38-14.1.1.B" value="14.1.1.B">
				<not>
					<isset property="I38-14.1.1.B" />
				</not>
		</condition>

	<condition property="I38-13.3.1.C" value="13.3.1.C">
			<not>
				<isset property="I38-13.3.1.C" />
			</not>
	</condition>

	<condition property="I38-13.2.1.M" value="13.2.1.M">
		<not>
			<isset property="I38-13.2.1.M" />
		</not>
	</condition>

	<condition property="I38-13.1.1.B" value="13.1.1.B">
		<not>
			<isset property="I38-13.1.1.B" />
		</not>
	</condition>

	<condition property="I38-12.1.1.C" value="12.1.1.C">
		<not>
			<isset property="I38-12.1.1.C" />
		</not>
	</condition>

	<condition property="I38-11.6.2.J2" value="11.6.2.J2">
		<not>
			<isset property="I38-11.6.2.J2" />
		</not>
	</condition>

	<target name="build" depends="dist">
	</target>

	<!--move all the i38 jars to dist folder to support Backward Compatability -->
	<target name="dist" description="move all the I38 jars to the dist folder">
		<echo>The I38 versions are ${I38-15.1.1.F}, ${I38-14.2.1.G},${I38-14.1.1.B},${I38-13.3.1.C},${I38-13.2.1.M},${I38-13.1.1.B},${I38-12.1.1.C} and ${I38-11.6.2.J2}</echo>
		<copy file=".\${I38-15.1.1.F}\${jar.I38-15.1.1.F}" tofile="${dir.dist}\${jar.I38-15.1.1.F}"/>
		<copy file=".\${I38-14.2.1.G}\${jar.I38-14.2.1.G}" tofile="${dir.dist}\${jar.I38-14.2.1.G}"/>
		<copy file=".\${I38-14.1.1.B}\${jar.I38-14.1.1.B}" tofile="${dir.dist}\${jar.I38-14.1.1.B}"/>
		<copy file=".\${I38-13.3.1.C}\${jar.I38-13.3.1.C}" tofile="${dir.dist}\${jar.I38-13.3.1.C}"/>
		<copy file=".\${I38-13.2.1.M}\${jar.I38-13.2.1.M}" tofile="${dir.dist}\${jar.I38-13.2.1.M}"/>
		<copy file=".\${I38-13.1.1.B}\${jar.I38-13.1.1.B}" tofile="${dir.dist}\${jar.I38-13.1.1.B}"/>
		<copy file=".\${I38-12.1.1.C}\${jar.I38-12.1.1.C}" tofile="${dir.dist}\${jar.I38-12.1.1.C}"/>
		<copy file=".\${I38-11.6.2.J2}\${jar.I38-11.6.2.J2}" tofile="${dir.dist}\${jar.I38-11.6.2.J2}"/>
	</target>

	<!--regenerate all the i38 jars to support Backward Compatability -->
	<target name="regenerate">
		<ant dir="${I38-15.1.1.F}" target="build"/>
		<ant dir="${I38-14.2.1.G}" target="build"/>
		<ant dir="${I38-14.1.1.B}" target="build"/>
		<ant dir="${I38-13.3.1.C}" target="build"/>
		<ant dir="${I38-13.2.1.M}" target="build"/>
		<ant dir="${I38-13.1.1.B}" target="build"/>
		<ant dir="${I38-12.1.1.C}" target="build"/>
		<ant dir="${I38-11.6.2.J2}" target="build"/>
		<antcall target="dist"/>
	</target>

	<!--remove all the i38 jars from dist folder to support Backward Compatability -->
	<target name="clean">
		<delete file="${dir.dist}\${jar.I38-15.1.1.F}" />
		<delete file="${dir.dist}\${jar.I38-14.2.1.G}" />
		<delete file="${dir.dist}\${jar.I38-14.1.1.B}" />
		<delete file="${dir.dist}\${jar.I38-13.3.1.C}" />
		<delete file="${dir.dist}\${jar.I38-13.2.1.M}" />
		<delete file="${dir.dist}\${jar.I38-13.1.1.B}" />
		<delete file="${dir.dist}\${jar.I38-12.1.1.C}" />
		<delete file="${dir.dist}\${jar.I38-11.6.2.J2}" />
		<ant dir="${I38-15.1.1.F}" target="clean" />
		<ant dir="${I38-14.2.1.G}" target="clean" />
		<ant dir="${I38-14.1.1.B}" target="clean" />
		<ant dir="${I38-13.3.1.C}" target="clean" />
	    <ant dir="${I38-13.2.1.M}" target="clean" />
		<ant dir="${I38-13.1.1.B}" target="clean" />
		<ant dir="${I38-12.1.1.C}" target="clean" />
		<ant dir="${I38-11.6.2.J2}" target="clean" />
	</target>
</project>
